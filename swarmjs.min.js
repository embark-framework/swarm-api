!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SwarmJS",[],e):"object"==typeof exports?exports.SwarmJS=e():t.SwarmJS=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var o=n(1);function r(t){this.opts=t||{},this.opts.gateway?this.gateway=t.gateway:"http"===this.opts.mode?this.gateway="http://swarm-gateways.net":this.gateway="https://swarm-gateways.net"}r.prototype._isValidHash=function(t){return/^[0-9a-f]{64}$/.test(t)},r.prototype._hashResponse=function(t,e,n,o){t?o(t):200!==e.statusCode?o(n):(void 0)._isValidHash(n)?o(null,n):o("Invalid hash")},r.prototype.download=function(t,e){o("".concat((void 0).gateway,"/").concat(t),function(t,n,o){t?e(t):200!==n.statusCode?e(o):e(null,o)})},r.prototype.downloadRaw=function(t,e){(void 0).download("bzz-raw:/".concat(t),e)},r.prototype.upload=function(t,e,n){o.post({url:"".concat((void 0).gateway,"/").concat(t),body:e},function(t,e,o){return(void 0)._hashResponse(t,e,o,n)})},r.prototype.uploadRaw=function(t,e){(void 0).upload("bzz-raw:",t,e)},r.prototype.uploadForm=function(t,e){o.post({url:"".concat((void 0).gateway,"/bzz:/"),formData:t},function(t,n,o){return(void 0)._hashResponse(t,n,o,e)})},r.prototype.isAvailable=function(t){try{(void 0).uploadRaw("test",function(e,n){if(e)return t(e);t(null,"6de1faa7d29b1931b4ba3d44befcf7a5e43e947cd0bf2db154172bac5ecac3a6"===n)})}catch(e){t(e)}},t.exports=r},function(t,e,n){"use strict";var o=n(2),r=n(4),a=n(5),u=n(9);function i(t,e,n){var o=t;return r(e)?(n=e,"string"==typeof t&&(o={uri:t})):o=u(e,{uri:t}),o.callback=n,o}function s(t,e,n){return c(e=i(t,e,n))}function c(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,o,r){e||(e=!0,t.callback(n,o,r))};function o(t){return clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,b)}function r(){if(!i){var e;clearTimeout(f),e=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var o=b,r=null;return 0!==e?(o={body:function(){var t=void 0;if(t=c.response?c.response:c.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(c),w)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:l,headers:{},url:p,rawRequest:c},c.getAllResponseHeaders&&(o.headers=a(c.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),n(r,o,o.body)}}var u,i,c=t.xhr||null;c||(c=t.cors||t.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var f,p=c.url=t.uri||t.url,l=c.method=t.method||"GET",d=t.body||t.data,y=c.headers=t.headers||{},h=!!t.sync,w=!1,b={body:void 0,headers:{},statusCode:0,method:l,url:p,rawRequest:c};if("json"in t&&!1!==t.json&&(w=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),d=JSON.stringify(!0===t.json?d:t.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(r,0)},c.onload=r,c.onerror=o,c.onprogress=function(){},c.onabort=function(){i=!0},c.ontimeout=o,c.open(l,p,!h,t.username,t.password),h||(c.withCredentials=!!t.withCredentials),!h&&t.timeout>0&&(f=setTimeout(function(){if(!i){i=!0,c.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}},t.timeout)),c.setRequestHeader)for(u in y)y.hasOwnProperty(u)&&c.setRequestHeader(u,y[u]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(d||null),c}t.exports=s,t.exports.default=s,s.XMLHttpRequest=o.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:o.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){s["delete"===t?"del":t]=function(e,n,o){return(n=i(e,n,o)).method=t.toUpperCase(),c(n)}})},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},function(t,e,n){var o=n(6),r=n(7);t.exports=function(t){if(!t)return{};var e={};return r(o(t).split("\n"),function(t){var n=t.indexOf(":"),r=o(t.slice(0,n)).toLowerCase(),a=o(t.slice(n+1));void 0===e[r]?e[r]=a:!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(e[r])?e[r]=[e[r],a]:e[r].push(a)}),e}},function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";var o=n(8),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!o(e))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=n),"[object Array]"===r.call(t)?function(t,e,n){for(var o=0,r=t.length;o<r;o++)a.call(t,o)&&(null==n?e(t[o],o,t):e.call(n,t[o],o,t))}(t,e,u):"string"==typeof t?function(t,e,n){for(var o=0,r=t.length;o<r;o++)null==n?e(t.charAt(o),o,t):e.call(n,t.charAt(o),o,t)}(t,e,u):function(t,e,n){for(var o in t)a.call(t,o)&&(null==n?e(t[o],o,t):e.call(n,t[o],o,t))}(t,e,u)}},function(t,e,n){"use strict";var o=Function.prototype.toString,r=/^\s*class\b/,a=function(t){try{var e=o.call(t);return r.test(e)}catch(t){return!1}},u=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(i)return function(t){try{return!a(t)&&(o.call(t),!0)}catch(t){return!1}}(t);if(a(t))return!1;var e=u.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var o=arguments[e];for(var r in o)n.call(o,r)&&(t[r]=o[r])}return t};var n=Object.prototype.hasOwnProperty}]).default});