!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SwarmJS",[],e):"object"==typeof exports?exports.SwarmJS=e():t.SwarmJS=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=28)}([function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(13),o=n(14),u=n(16),i=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(r(t),e=u(e,!0),r(n),o)try{return i(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){t.exports=n(7)},function(t,e,n){n(8);var r=n(3).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(9);r(r.S+r.F*!n(0),"Object",{defineProperty:n(4).f})},function(t,e,n){var r=n(2),o=n(3),u=n(10),i=n(12),a=n(18),c=function(t,e,n){var f,s,l,p=t&c.F,d=t&c.G,y=t&c.S,h=t&c.P,v=t&c.B,w=t&c.W,b=d?o:o[e]||(o[e]={}),m=b.prototype,g=d?r:y?r[e]:(r[e]||{}).prototype;for(f in d&&(n=e),n)(s=!p&&g&&void 0!==g[f])&&a(b,f)||(l=s?g[f]:n[f],b[f]=d&&"function"!=typeof g[f]?n[f]:v&&s?u(l,r):w&&g[f]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):h&&"function"==typeof l?u(Function.call,l):l,h&&((b.virtual||(b.virtual={}))[f]=l,t&c.R&&m&&!m[f]&&i(m,f,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(11);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(4),o=n(17);t.exports=n(0)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(1);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(0)&&!n(5)(function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),o=n(2).document,u=r(o)&&r(o.createElement);t.exports=function(t){return u?o.createElement(t):{}}},function(t,e,n){var r=n(1);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=n(20),o=n(22),u=n(23),i=n(27);function a(t,e,n){var r=t;return o(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=i(e,{uri:t}),r.callback=n,r}function c(t,e,n){return f(e=a(t,e,n))}function f(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,r,o){e||(e=!0,t.callback(n,r,o))};function r(t){return clearTimeout(s),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,w)}function o(){if(!a){var e;clearTimeout(s),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var r=w,o=null;return 0!==e?(r={body:function(){var t=void 0;if(t=f.response?f.response:f.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(f),v)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:p,headers:{},url:l,rawRequest:f},f.getAllResponseHeaders&&(r.headers=u(f.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var i,a,f=t.xhr||null;f||(f=t.cors||t.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var s,l=f.url=t.uri||t.url,p=f.method=t.method||"GET",d=t.body||t.data,y=f.headers=t.headers||{},h=!!t.sync,v=!1,w={body:void 0,headers:{},statusCode:0,method:p,url:l,rawRequest:f};if("json"in t&&!1!==t.json&&(v=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),d=JSON.stringify(!0===t.json?d:t.json))),f.onreadystatechange=function(){4===f.readyState&&setTimeout(o,0)},f.onload=o,f.onerror=r,f.onprogress=function(){},f.onabort=function(){a=!0},f.ontimeout=r,f.open(p,l,!h,t.username,t.password),h||(f.withCredentials=!!t.withCredentials),!h&&t.timeout>0&&(s=setTimeout(function(){if(!a){a=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}},t.timeout)),f.setRequestHeader)for(i in y)y.hasOwnProperty(i)&&f.setRequestHeader(i,y[i]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(f),f.send(d||null),f}t.exports=c,t.exports.default=c,c.XMLHttpRequest=r.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:r.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){c["delete"===t?"del":t]=function(e,n,r){return(n=a(e,n,r)).method=t.toUpperCase(),f(n)}})},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,n(21))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},function(t,e,n){var r=n(24),o=n(25);t.exports=function(t){if(!t)return{};var e={};return o(r(t).split("\n"),function(t){var n=t.indexOf(":"),o=r(t.slice(0,n)).toLowerCase(),u=r(t.slice(n+1));void 0===e[o]?e[o]=u:!function(t){return"[object Array]"===Object.prototype.toString.call(t)}(e[o])?e[o]=[e[o],u]:e[o].push(u)}),e}},function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";var r=n(26),o=Object.prototype.toString,u=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!r(e))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),"[object Array]"===o.call(t)?function(t,e,n){for(var r=0,o=t.length;r<o;r++)u.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,i):"string"==typeof t?function(t,e,n){for(var r=0,o=t.length;r<o;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)}(t,e,i):function(t,e,n){for(var r in t)u.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}(t,e,i)}},function(t,e,n){"use strict";var r=Function.prototype.toString,o=/^\s*class\b/,u=function(t){try{var e=r.call(t);return o.test(e)}catch(t){return!1}},i=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(a)return function(t){try{return!u(t)&&(r.call(t),!0)}catch(t){return!1}}(t);if(u(t))return!1;var e=i.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var o in r)n.call(r,o)&&(t[o]=r[o])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";n.r(e);var r=n(6),o=n.n(r);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}var i=n(19),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts=e||{},this.opts.gateway?this.gateway=e.gateway:"http"===this.opts.mode?this.gateway="http://swarm-gateways.net":this.gateway="https://swarm-gateways.net"}return function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(t,[{key:"_isValidHash",value:function(t){return/^[0-9a-f]{64}$/.test(t)}},{key:"_hashResponse",value:function(t,e,n,r){t?r(t):200!==e.statusCode?r(n):this._isValidHash(n)?r(null,n):r("Invalid hash")}},{key:"download",value:function(t,e){i("".concat(this.gateway,"/").concat(t),function(t,n,r){t?e(t):200!==n.statusCode?e(r):e(null,r)})}},{key:"downloadRaw",value:function(t,e){this.download("bzz-raw:/".concat(t),e)}},{key:"upload",value:function(t,e,n){var r=this;i.post({url:"".concat(this.gateway,"/").concat(t),body:e},function(t,e,o){return r._hashResponse(t,e,o,n)})}},{key:"uploadRaw",value:function(t,e){this.upload("bzz-raw:/",t,e)}},{key:"uploadForm",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"index.html",r=arguments.length>2?arguments[2]:void 0,o={url:"".concat(this.gateway,"/bzz:/"),formData:t,qs:{defaultpath:n}};i.post(o,function(t,n,o){return e._hashResponse(t,n,o,r)})}},{key:"isAvailable",value:function(t){try{this.uploadRaw("test",function(e,n){if(e)return t(e);t(null,"6de1faa7d29b1931b4ba3d44befcf7a5e43e947cd0bf2db154172bac5ecac3a6"===n)})}catch(e){t(e)}}}]),t}();n.d(e,"default",function(){return a})}]).default});